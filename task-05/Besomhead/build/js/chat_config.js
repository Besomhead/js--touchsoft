var config={chatFilePath:"https://rawgit.com/Besomhead/js--touchsoft/besomhead-task05/task-05/Besomhead/src/js/chat.js"},configFactory=function(e){var t="change",n="chat-configurator-chat-title",a="chat-configurator-chat-url",i="chat-configurator-chat-css-class",r="chat-configurator-ui-minimize",c="chat-configurator-ui-drag",o="chat-configurator-ui-require-name",s="chat-configurator-ui-show-date",h="chat-configurator-network-xhr",d="chat-configurator-network-fetch",l='<script src="'+e.chatFilePath+"?",m='"><\/script>',u=this;function g(e){return"'".concat(e).concat("'")}function f(e){return g(DM.getDOMElement(e).value)}function D(e){return DM.getDOMElement(e).checked?g("true"):g("false")}return this.createCodeExample=function(){var e,t;DM.getDOMElement("chat-configurator-code-source").value=[l,"chatTitle=",f(n),"&","chatURL=",f(a),"&","cssClass=",f(i),"&",(t="position=",DM.getDOMElement("chat-configurator-chat-position-right").selected?t=t.concat(g("right")):DM.getDOMElement("chat-configurator-chat-position-left").selected&&(t=t.concat(g("left"))),t),"&","allowMinimize=",D(r),"&","allowDrag=",D(c),"&","requireName=",D(o),"&","showDateTime=",D(s),"&",(e="requests=",DM.getDOMElement(h).checked?e=e.concat(g("xhr")):DM.getDOMElement(d).checked&&(e=e.concat(g("fetch"))),e),m].join("")},this.initListeners=function(){DM.addListener(n,t,u.createCodeExample),DM.addListener(a,t,u.createCodeExample),DM.addListener(i,t,u.createCodeExample),DM.addListener("chat-configurator-chat-position",t,u.createCodeExample),DM.addListener(r,t,u.createCodeExample),DM.addListener(c,t,u.createCodeExample),DM.addListener(s,t,u.createCodeExample),DM.addListener(o,t,u.createCodeExample),DM.addListener(h,t,u.createCodeExample),DM.addListener(d,t,u.createCodeExample)},u}(config),DM=function(){return this.getDOMElement=function(e){return"string"==typeof e?document.getElementById(e):e},this.getDOMChildrenByTag=function(e,t){return Array.from(this.getDOMElement(e).getElementsByTagName(t))},this.getDOMChildrenByClass=function(e,t){return Array.from(this.getDOMElement(e).getElementsByClassName(t))},this.createDOMElement=document.createElement.bind(document),this.appendDOMElement=function(e,t){this.getDOMElement(e).appendChild(t)},this.removeDOMElement=function(e,t){this.getDOMElement(e).removeChild(this.getDOMElement(t))},this.addListener=function(e,t,n){this.getDOMElement(e).addEventListener(t,n)},this.removeListener=function(e,t,n){this.getDOMElement(e).removeEventListener(t,n)},this.addCSSClass=function(t){var n=this;Array.from(arguments).slice(1).forEach(function(e){n.getDOMElement(t).classList.add(e)})},this.removeCSSClass=function(e,t){this.getDOMElement(e).classList.remove(t)},this}();window.addEventListener("load",function(){configFactory.initListeners(),configFactory.createCodeExample()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXRfY29uZmlnLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsImNoYXRGaWxlUGF0aCIsImNvbmZpZ0ZhY3RvcnkiLCJFVkVOVF9OQU1FIiwiQ0hBVF9USVRMRV9JRCIsIkNIQVRfVVJMX0lEIiwiQ0hBVF9DU1NfQ0xBU1NfSUQiLCJBTExPV19NSU5JTUlaRV9JRCIsIkFMTE9XX0RSQUdfSUQiLCJSRVFVSVJFX05BTUVfSUQiLCJTSE9XX0RBVEVfVElNRV9JRCIsIk5FVFdPUktfWEhSX0lEIiwiTkVUV09SS19GRVRDSF9JRCIsIkNPREVfRVhBTVBMRV9TVEFSVCIsIkNPREVfRVhBTVBMRV9FTkQiLCJzZWxmIiwidGhpcyIsIndyYXBXaXRoUXVvdGVzIiwic3RyIiwiY29uY2F0IiwiZ2V0SW5wdXRWYWx1ZSIsImNvbXBvbmVudElEIiwiRE0iLCJnZXRET01FbGVtZW50IiwidmFsdWUiLCJnZXRDaGVja0JveFZhbHVlIiwiY2hlY2tlZCIsImNyZWF0ZUNvZGVFeGFtcGxlIiwicmVxdWVzdFR5cGUiLCJwb3NpdGlvbiIsInNlbGVjdGVkIiwiam9pbiIsImluaXRMaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsImlkdGYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RE9NQ2hpbGRyZW5CeVRhZyIsInJvb3QiLCJ0YWciLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldERPTUNoaWxkcmVuQnlDbGFzcyIsImNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjcmVhdGVET01FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImJpbmQiLCJhcHBlbmRET01FbGVtZW50IiwiZWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlRE9NRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiZXZlbnQiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRDU1NDbGFzcyIsImFyZ3VtZW50cyIsInNsaWNlIiwiZm9yRWFjaCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUNTU0NsYXNzIiwicmVtb3ZlIiwid2luZG93Il0sIm1hcHBpbmdzIjoiQUFHQSxJQUFJQSxPQUFTLENBQ1hDLGFBQWMsZ0dBT1pDLGNBQWdCLFNBQXdCRixHQUUxQyxJQUFJRyxFQUFhLFNBQ2JDLEVBQWdCLCtCQUNoQkMsRUFBYyw2QkFDZEMsRUFBb0IsbUNBSXBCQyxFQUFvQixnQ0FDcEJDLEVBQWdCLDRCQUNoQkMsRUFBa0Isb0NBQ2xCQyxFQUFvQixpQ0FDcEJDLEVBQWlCLGdDQUNqQkMsRUFBbUIsa0NBRW5CQyxFQUFxQixnQkFBa0JiLEVBQU9DLGFBQWUsSUFDN0RhLEVBQW1CLGVBRW5CQyxFQUFPQyxLQUVYLFNBQVNDLEVBQWVDLEdBQ3RCLE1BQU8sSUFBSUMsT0FBT0QsR0FBS0MsT0FBTyxLQUdoQyxTQUFTQyxFQUFjQyxHQUNyQixPQUFPSixFQUFlSyxHQUFHQyxjQUFjRixHQUFhRyxPQWV0RCxTQUFTQyxFQUFpQkosR0FDeEIsT0FBT0MsR0FBR0MsY0FBY0YsR0FBYUssUUFDakNULEVBQWUsUUFDZkEsRUFBZSxTQTJEckIsT0E1Q0FELEtBQUtXLGtCQUFvQixXQVp6QixJQUNNQyxFQWxCQUMsRUE4QkpQLEdBQUdDLGNBN0NpQixpQ0E2Q2NDLE1BQVEsQ0FDeENYLEVBQ0EsYUFDQU8sRUFBY2hCLEdBQ2QsSUFDQSxXQUNBZ0IsRUFBY2YsR0FDZCxJQUNBLFlBQ0FlLEVBQWNkLEdBQ2QsS0F4Q0V1QixFQUFXLFlBRVhQLEdBQUdDLGNBMUJvQix5Q0EwQmtCTyxTQUMzQ0QsRUFBV0EsRUFBU1YsT0FBT0YsRUFBZSxVQUNqQ0ssR0FBR0MsY0EzQlksd0NBMkJ5Qk8sV0FDakRELEVBQVdBLEVBQVNWLE9BQU9GLEVBQWUsVUFHckNZLEdBa0NMLElBQ0EsaUJBQ0FKLEVBQWlCbEIsR0FDakIsSUFDQSxhQUNBa0IsRUFBaUJqQixHQUNqQixJQUNBLGVBQ0FpQixFQUFpQmhCLEdBQ2pCLElBQ0EsZ0JBQ0FnQixFQUFpQmYsR0FDakIsS0FwQ0VrQixFQUFjLFlBRWROLEdBQUdDLGNBQWNaLEdBQWdCZSxRQUNuQ0UsRUFBY0EsRUFBWVQsT0FBT0YsRUFBZSxRQUN2Q0ssR0FBR0MsY0FBY1gsR0FBa0JjLFVBQzVDRSxFQUFjQSxFQUFZVCxPQUFPRixFQUFlLFdBRzNDVyxHQThCTGQsR0FDQWlCLEtBQUssS0FHVGYsS0FBS2dCLGNBQWdCLFdBQ25CVixHQUFHVyxZQUFZN0IsRUFBZUQsRUFBWVksRUFBS1ksbUJBQy9DTCxHQUFHVyxZQUFZNUIsRUFBYUYsRUFBWVksRUFBS1ksbUJBQzdDTCxHQUFHVyxZQUFZM0IsRUFBbUJILEVBQVlZLEVBQUtZLG1CQUNuREwsR0FBR1csWUF0RmtCLGtDQXNGWTlCLEVBQVlZLEVBQUtZLG1CQUNsREwsR0FBR1csWUFBWTFCLEVBQW1CSixFQUFZWSxFQUFLWSxtQkFDbkRMLEdBQUdXLFlBQVl6QixFQUFlTCxFQUFZWSxFQUFLWSxtQkFDL0NMLEdBQUdXLFlBQVl2QixFQUFtQlAsRUFBWVksRUFBS1ksbUJBQ25ETCxHQUFHVyxZQUFZeEIsRUFBaUJOLEVBQVlZLEVBQUtZLG1CQUNqREwsR0FBR1csWUFBWXRCLEVBQWdCUixFQUFZWSxFQUFLWSxtQkFDaERMLEdBQUdXLFlBQVlyQixFQUFrQlQsRUFBWVksRUFBS1ksb0JBRzdDWixFQXZHVyxDQXdHakJmLFFBR0NzQixHQUFLLFdBc0NQLE9BckNBTixLQUFLTyxjQUFnQixTQUFvQlcsR0FDdkMsTUFBdUIsaUJBQVRBLEVBQW9CQyxTQUFTQyxlQUFlRixHQUFRQSxHQUVwRWxCLEtBQUtxQixvQkFBc0IsU0FBOEJDLEVBQU1DLEdBQzdELE9BQU9DLE1BQU1DLEtBQUt6QixLQUFLTyxjQUFjZSxHQUFNSSxxQkFBcUJILEtBRWxFdkIsS0FBSzJCLHNCQUF3QixTQUMzQkwsRUFDQU0sR0FFQSxPQUFPSixNQUFNQyxLQUNYekIsS0FBS08sY0FBY2UsR0FBTU8sdUJBQXVCRCxLQUdwRDVCLEtBQUs4QixpQkFBbUJYLFNBQVNZLGNBQWNDLEtBQUtiLFVBQ3BEbkIsS0FBS2lDLGlCQUFtQixTQUFnQlgsRUFBTVksR0FDNUNsQyxLQUFLTyxjQUFjZSxHQUFNYSxZQUFZRCxJQUV2Q2xDLEtBQUtvQyxpQkFBbUIsU0FBZ0JkLEVBQU1ZLEdBQzVDbEMsS0FBS08sY0FBY2UsR0FBTWUsWUFBWXJDLEtBQUtPLGNBQWMyQixLQUUxRGxDLEtBQUtpQixZQUFjLFNBQTBCSyxFQUFNZ0IsRUFBT0MsR0FDeER2QyxLQUFLTyxjQUFjZSxHQUFNa0IsaUJBQWlCRixFQUFPQyxJQUVuRHZDLEtBQUt5QyxlQUFpQixTQUE2Qm5CLEVBQU1nQixFQUFPQyxHQUM5RHZDLEtBQUtPLGNBQWNlLEdBQU1vQixvQkFBb0JKLEVBQU9DLElBRXREdkMsS0FBSzJDLFlBQWMsU0FBcUJyQixHQUN0QyxJQUFJdkIsRUFBT0MsS0FDWHdCLE1BQU1DLEtBQUttQixXQUFXQyxNQUFNLEdBQUdDLFFBQVEsU0FBb0JsQixHQUN6RDdCLEVBQUtRLGNBQWNlLEdBQU15QixVQUFVQyxJQUFJcEIsTUFHM0M1QixLQUFLaUQsZUFBaUIsU0FBd0IzQixFQUFNTSxHQUNsRDVCLEtBQUtPLGNBQWNlLEdBQU15QixVQUFVRyxPQUFPdEIsSUFHckM1QixLQXRDQSxHQTBDVG1ELE9BQU9YLGlCQUFpQixPQUFRLFdBQzlCdEQsY0FBYzhCLGdCQUNkOUIsY0FBY3lCIiwiZmlsZSI6ImNoYXRfY29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXhwb3J0ZWQgY29uZmlnICovXHJcbi8qIGdsb2JhbCBjb25maWdGYWN0b3J5ICovXHJcblxyXG52YXIgY29uZmlnID0ge1xyXG4gIGNoYXRGaWxlUGF0aDogXCJodHRwczovL3Jhd2dpdC5jb20vQmVzb21oZWFkL2pzLS10b3VjaHNvZnQvYmVzb21oZWFkLXRhc2swNS90YXNrLTA1L0Jlc29taGVhZC9zcmMvanMvY2hhdC5qc1wiXHJcbn07XHJcblxyXG4vKiBleHBvcnRlZCBjb25maWdGYWN0b3J5ICovXHJcbi8qIGdsb2JhbCBETSAqL1xyXG4vKiBnbG9iYWwgY29uZmlnICovXHJcblxyXG52YXIgY29uZmlnRmFjdG9yeSA9IChmdW5jdGlvbiBDb25maWdGYWN0b3J5KGNvbmZpZykge1xyXG5cclxuICB2YXIgRVZFTlRfTkFNRSA9IFwiY2hhbmdlXCI7XHJcbiAgdmFyIENIQVRfVElUTEVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtdGl0bGVcIjtcclxuICB2YXIgQ0hBVF9VUkxfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtdXJsXCI7XHJcbiAgdmFyIENIQVRfQ1NTX0NMQVNTX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1jaGF0LWNzcy1jbGFzc1wiO1xyXG4gIHZhciBDSEFUX1BPU0lUSU9OX1JJR0hUX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1jaGF0LXBvc2l0aW9uLXJpZ2h0XCI7XHJcbiAgdmFyIENIQVRfUE9TSVRJT05fTEVGVF9JRCA9IFwiY2hhdC1jb25maWd1cmF0b3ItY2hhdC1wb3NpdGlvbi1sZWZ0XCI7XHJcbiAgdmFyIENIQVRfUE9TSVRJT05fSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtcG9zaXRpb25cIjtcclxuICB2YXIgQUxMT1dfTUlOSU1JWkVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLW1pbmltaXplXCI7XHJcbiAgdmFyIEFMTE9XX0RSQUdfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLWRyYWdcIjtcclxuICB2YXIgUkVRVUlSRV9OQU1FX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci11aS1yZXF1aXJlLW5hbWVcIjtcclxuICB2YXIgU0hPV19EQVRFX1RJTUVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLXNob3ctZGF0ZVwiO1xyXG4gIHZhciBORVRXT1JLX1hIUl9JRCA9IFwiY2hhdC1jb25maWd1cmF0b3ItbmV0d29yay14aHJcIjtcclxuICB2YXIgTkVUV09SS19GRVRDSF9JRCA9IFwiY2hhdC1jb25maWd1cmF0b3ItbmV0d29yay1mZXRjaFwiO1xyXG4gIHZhciBDT0RFX0VYQU1QTEVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNvZGUtc291cmNlXCI7XHJcbiAgdmFyIENPREVfRVhBTVBMRV9TVEFSVCA9ICc8c2NyaXB0IHNyYz1cIicgKyBjb25maWcuY2hhdEZpbGVQYXRoICsgXCI/XCI7XHJcbiAgdmFyIENPREVfRVhBTVBMRV9FTkQgPSAnXCI+PC9zY3JpcHQ+JztcclxuXHJcbiAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICBmdW5jdGlvbiB3cmFwV2l0aFF1b3RlcyhzdHIpIHtcclxuICAgIHJldHVybiBcIidcIi5jb25jYXQoc3RyKS5jb25jYXQoXCInXCIpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0SW5wdXRWYWx1ZShjb21wb25lbnRJRCkge1xyXG4gICAgcmV0dXJuIHdyYXBXaXRoUXVvdGVzKERNLmdldERPTUVsZW1lbnQoY29tcG9uZW50SUQpLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENoYXRQb3NpdGlvbigpIHtcclxuICAgIHZhciBwb3NpdGlvbiA9IFwicG9zaXRpb249XCI7XHJcblxyXG4gICAgaWYgKERNLmdldERPTUVsZW1lbnQoQ0hBVF9QT1NJVElPTl9SSUdIVF9JRCkuc2VsZWN0ZWQpIHtcclxuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5jb25jYXQod3JhcFdpdGhRdW90ZXMoXCJyaWdodFwiKSk7XHJcbiAgICB9IGVsc2UgaWYgKERNLmdldERPTUVsZW1lbnQoQ0hBVF9QT1NJVElPTl9MRUZUX0lEKS5zZWxlY3RlZCkge1xyXG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLmNvbmNhdCh3cmFwV2l0aFF1b3RlcyhcImxlZnRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENoZWNrQm94VmFsdWUoY29tcG9uZW50SUQpIHtcclxuICAgIHJldHVybiBETS5nZXRET01FbGVtZW50KGNvbXBvbmVudElEKS5jaGVja2VkXHJcbiAgICAgID8gd3JhcFdpdGhRdW90ZXMoXCJ0cnVlXCIpXHJcbiAgICAgIDogd3JhcFdpdGhRdW90ZXMoXCJmYWxzZVwiKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE5ldHdvcmtSZXF1ZXN0VHlwZSgpIHtcclxuICAgIHZhciByZXF1ZXN0VHlwZSA9IFwicmVxdWVzdHM9XCI7XHJcblxyXG4gICAgaWYgKERNLmdldERPTUVsZW1lbnQoTkVUV09SS19YSFJfSUQpLmNoZWNrZWQpIHtcclxuICAgICAgcmVxdWVzdFR5cGUgPSByZXF1ZXN0VHlwZS5jb25jYXQod3JhcFdpdGhRdW90ZXMoXCJ4aHJcIikpO1xyXG4gICAgfSBlbHNlIGlmIChETS5nZXRET01FbGVtZW50KE5FVFdPUktfRkVUQ0hfSUQpLmNoZWNrZWQpIHtcclxuICAgICAgcmVxdWVzdFR5cGUgPSByZXF1ZXN0VHlwZS5jb25jYXQod3JhcFdpdGhRdW90ZXMoXCJmZXRjaFwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcXVlc3RUeXBlO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5jcmVhdGVDb2RlRXhhbXBsZSA9IGZ1bmN0aW9uIGNyZWF0ZUNvZGVFeGFtcGxlKCkge1xyXG4gICAgRE0uZ2V0RE9NRWxlbWVudChDT0RFX0VYQU1QTEVfSUQpLnZhbHVlID0gW1xyXG4gICAgICBDT0RFX0VYQU1QTEVfU1RBUlQsXHJcbiAgICAgIFwiY2hhdFRpdGxlPVwiLFxyXG4gICAgICBnZXRJbnB1dFZhbHVlKENIQVRfVElUTEVfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgXCJjaGF0VVJMPVwiLFxyXG4gICAgICBnZXRJbnB1dFZhbHVlKENIQVRfVVJMX0lEKSxcclxuICAgICAgXCImXCIsXHJcbiAgICAgIFwiY3NzQ2xhc3M9XCIsXHJcbiAgICAgIGdldElucHV0VmFsdWUoQ0hBVF9DU1NfQ0xBU1NfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgZ2V0Q2hhdFBvc2l0aW9uKCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcImFsbG93TWluaW1pemU9XCIsXHJcbiAgICAgIGdldENoZWNrQm94VmFsdWUoQUxMT1dfTUlOSU1JWkVfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgXCJhbGxvd0RyYWc9XCIsXHJcbiAgICAgIGdldENoZWNrQm94VmFsdWUoQUxMT1dfRFJBR19JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcInJlcXVpcmVOYW1lPVwiLFxyXG4gICAgICBnZXRDaGVja0JveFZhbHVlKFJFUVVJUkVfTkFNRV9JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcInNob3dEYXRlVGltZT1cIixcclxuICAgICAgZ2V0Q2hlY2tCb3hWYWx1ZShTSE9XX0RBVEVfVElNRV9JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBnZXROZXR3b3JrUmVxdWVzdFR5cGUoKSxcclxuICAgICAgQ09ERV9FWEFNUExFX0VORFxyXG4gICAgXS5qb2luKFwiXCIpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuaW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uIGluaXRMaXN0ZW5lcnMoKSB7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihDSEFUX1RJVExFX0lELCBFVkVOVF9OQU1FLCBzZWxmLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfVVJMX0lELCBFVkVOVF9OQU1FLCBzZWxmLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfQ1NTX0NMQVNTX0lELCBFVkVOVF9OQU1FLCBzZWxmLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfUE9TSVRJT05fSUQsIEVWRU5UX05BTUUsIHNlbGYuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoQUxMT1dfTUlOSU1JWkVfSUQsIEVWRU5UX05BTUUsIHNlbGYuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoQUxMT1dfRFJBR19JRCwgRVZFTlRfTkFNRSwgc2VsZi5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihTSE9XX0RBVEVfVElNRV9JRCwgRVZFTlRfTkFNRSwgc2VsZi5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihSRVFVSVJFX05BTUVfSUQsIEVWRU5UX05BTUUsIHNlbGYuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoTkVUV09SS19YSFJfSUQsIEVWRU5UX05BTUUsIHNlbGYuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoTkVUV09SS19GRVRDSF9JRCwgRVZFTlRfTkFNRSwgc2VsZi5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHNlbGY7XHJcbn0pKGNvbmZpZyk7XHJcbi8qIGV4cG9ydGVkIERNICovXHJcblxyXG52YXIgRE0gPSAoZnVuY3Rpb24gRE9NTWFuYWdlcigpIHtcclxuICB0aGlzLmdldERPTUVsZW1lbnQgPSBmdW5jdGlvbiBnZXRFbGVtZW50KGlkdGYpIHtcclxuICAgIHJldHVybiB0eXBlb2YgaWR0ZiA9PT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkdGYpIDogaWR0ZjtcclxuICB9O1xyXG4gIHRoaXMuZ2V0RE9NQ2hpbGRyZW5CeVRhZyA9IGZ1bmN0aW9uIGdldENoaWxkcmVuQnlUYWdOYW1lKHJvb3QsIHRhZykge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5nZXRET01FbGVtZW50KHJvb3QpLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZykpO1xyXG4gIH07XHJcbiAgdGhpcy5nZXRET01DaGlsZHJlbkJ5Q2xhc3MgPSBmdW5jdGlvbiBnZXRDaGlsZHJlbkJ5Q2xhc3NOYW1lKFxyXG4gICAgcm9vdCxcclxuICAgIGNsYXNzTmFtZVxyXG4gICkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuZ2V0RE9NRWxlbWVudChyb290KS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlcclxuICAgICk7XHJcbiAgfTtcclxuICB0aGlzLmNyZWF0ZURPTUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50LmJpbmQoZG9jdW1lbnQpO1xyXG4gIHRoaXMuYXBwZW5kRE9NRWxlbWVudCA9IGZ1bmN0aW9uIGFwcGVuZChyb290LCBlbGVtZW50KSB7XHJcbiAgICB0aGlzLmdldERPTUVsZW1lbnQocm9vdCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfTtcclxuICB0aGlzLnJlbW92ZURPTUVsZW1lbnQgPSBmdW5jdGlvbiByZW1vdmUocm9vdCwgZWxlbWVudCkge1xyXG4gICAgdGhpcy5nZXRET01FbGVtZW50KHJvb3QpLnJlbW92ZUNoaWxkKHRoaXMuZ2V0RE9NRWxlbWVudChlbGVtZW50KSk7XHJcbiAgfTtcclxuICB0aGlzLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihyb290LCBldmVudCwgY2FsbGJhY2spe1xyXG4gICAgdGhpcy5nZXRET01FbGVtZW50KHJvb3QpLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9O1xyXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKHJvb3QsIGV2ZW50LCBjYWxsYmFjayl7XHJcbiAgICB0aGlzLmdldERPTUVsZW1lbnQocm9vdCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH07XHJcbiAgdGhpcy5hZGRDU1NDbGFzcyA9IGZ1bmN0aW9uIGFkZENTU0NsYXNzKHJvb3Qpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgQXJyYXkuZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc05hbWUpe1xyXG4gICAgICBzZWxmLmdldERPTUVsZW1lbnQocm9vdCkuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICB0aGlzLnJlbW92ZUNTU0NsYXNzID0gZnVuY3Rpb24gcmVtb3ZlQ1NTQ2xhc3Mocm9vdCwgY2xhc3NOYW1lKXtcclxuICAgIHRoaXMuZ2V0RE9NRWxlbWVudChyb290KS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xyXG4gIGNvbmZpZ0ZhY3RvcnkuaW5pdExpc3RlbmVycygpO1xyXG4gIGNvbmZpZ0ZhY3RvcnkuY3JlYXRlQ29kZUV4YW1wbGUoKTtcclxufSk7Il19
