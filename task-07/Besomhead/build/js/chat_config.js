var config={chatFilePath:"https://rawgit.com/Besomhead/js--touchsoft/besomhead-task07-build/task-07/Besomhead/build/js/chat.js"},configFactory=function(e){var t="change",n="chat-configurator-chat-title",r="chat-configurator-chat-url",o="chat-configurator-chat-css-class",a="chat-configurator-ui-minimize",c="chat-configurator-ui-drag",i="chat-configurator-ui-require-name",s="chat-configurator-ui-show-date",d="chat-configurator-network",l="chat-configurator-updates",u='<script src="'+e.chatFilePath+"?",h='"><\/script>';function f(){}function g(e){return"'".concat(e).concat("'")}function m(e){return g(DM.getDOMElement(e).value)}function p(e){return DM.getDOMElement(e).checked?g("true"):g("false")}function D(e,t,n,r,o){var a=function(e){for(var t,n=DM.getDOMChildrenByTag(e,"div");!t;)t=DM.getDOMChildrenByTag(n.shift(),"input").find(function(e){return e.checked});return t}(e),c="";return a.id===t?c=g(n):a.id===r&&(c=g(o)),c}return f.prototype.createCodeExample=function(){var e;DM.getDOMElement("chat-configurator-code-source").value=[u,"chatTitle=",m(n),"&","chatURL=",m(r),"&","cssClass=",m(o),"&",(e="position=",DM.getDOMElement("chat-configurator-chat-position-right").selected?e=e.concat(g("right")):DM.getDOMElement("chat-configurator-chat-position-left").selected&&(e=e.concat(g("left"))),e),"&","allowMinimize=",p(a),"&","allowDrag=",p(c),"&","requireName=",p(i),"&","showDateTime=",p(s),"&","requests=".concat(D(DM.getDOMElement(d),"chat-configurator-network-xhr","xhr","chat-configurator-network-fetch","fetch")),"&","subscribeOnUpdates=".concat(D(DM.getDOMElement(l),"chat-configurator-updates-longpoll","longPolling","chat-configurator-updates-refetch","refetch")),h].join("")},f.prototype.initListeners=function(){DM.addListener(n,t,this.createCodeExample),DM.addListener(r,t,this.createCodeExample),DM.addListener(o,t,this.createCodeExample),DM.addListener("chat-configurator-chat-position",t,this.createCodeExample),DM.addListener(a,t,this.createCodeExample),DM.addListener(c,t,this.createCodeExample),DM.addListener(s,t,this.createCodeExample),DM.addListener(i,t,this.createCodeExample),DM.addListener(d,t,this.createCodeExample),DM.addListener(l,t,this.createCodeExample)},new f}(config),DM=function(){function e(){}return e.prototype.getDOMElement=function(e){return"string"==typeof e?document.getElementById(e):e},e.prototype.getDOMChildrenByTag=function(e,t){return Array.from(this.getDOMElement(e).getElementsByTagName(t))},e.prototype.getDOMChildrenByClass=function(e,t){return Array.from(DM.getDOMElement(e).getElementsByClassName(t))},e.prototype.createDOMElement=document.createElement.bind(document),e.prototype.appendDOMElement=function(e,t){DM.getDOMElement(e).appendChild(t)},e.prototype.removeDOMElement=function(e,t){DM.getDOMElement(e).removeChild(DM.getDOMElement(t))},e.prototype.addListener=function(e,t,n){DM.getDOMElement(e).addEventListener(t,n)},e.prototype.removeListener=function(e,t,n){DM.getDOMElement(e).removeEventListener(t,n)},e.prototype.addCSSClass=function(t){Array.from(arguments).slice(1).forEach(function(e){DM.getDOMElement(t).classList.add(e)})},e.prototype.removeCSSClass=function(e,t){DM.getDOMElement(e).classList.remove(t)},new e}();window.addEventListener("load",function(){configFactory.initListeners(),configFactory.createCodeExample()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXRfY29uZmlnLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsImNoYXRGaWxlUGF0aCIsImNvbmZpZ0ZhY3RvcnkiLCJFVkVOVF9OQU1FIiwiQ0hBVF9USVRMRV9JRCIsIkNIQVRfVVJMX0lEIiwiQ0hBVF9DU1NfQ0xBU1NfSUQiLCJBTExPV19NSU5JTUlaRV9JRCIsIkFMTE9XX0RSQUdfSUQiLCJSRVFVSVJFX05BTUVfSUQiLCJTSE9XX0RBVEVfVElNRV9JRCIsIk5FVFdPUktfSUQiLCJVUERBVEVTX0lEIiwiQ09ERV9FWEFNUExFX1NUQVJUIiwiQ09ERV9FWEFNUExFX0VORCIsIkNvbmZpZ0ZhY3RvcnkiLCJ3cmFwV2l0aFF1b3RlcyIsInN0ciIsImNvbmNhdCIsImdldElucHV0VmFsdWUiLCJjb21wb25lbnRJRCIsIkRNIiwiZ2V0RE9NRWxlbWVudCIsInZhbHVlIiwiZ2V0Q2hlY2tCb3hWYWx1ZSIsImNoZWNrZWQiLCJnZXRTZWxlY3RlZFZhbHVlIiwidGFyZ2V0IiwiZmlyc3RPcHRpb24iLCJmaXJzdFZhbHVlIiwic2Vjb25kT3B0aW9uIiwic2Vjb25kVmFsdWUiLCJlbWl0dGVyIiwiY29udGFpbmVyIiwiYnV0dG9uIiwiZGl2cyIsImdldERPTUNoaWxkcmVuQnlUYWciLCJzaGlmdCIsImZpbmQiLCJlbCIsImdldFNlbGVjdGVkQnV0dG9uIiwiaWQiLCJwcm90b3R5cGUiLCJjcmVhdGVDb2RlRXhhbXBsZSIsInBvc2l0aW9uIiwic2VsZWN0ZWQiLCJqb2luIiwiaW5pdExpc3RlbmVycyIsImFkZExpc3RlbmVyIiwidGhpcyIsIkRPTU1hbmFnZXIiLCJpZHRmIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJvb3QiLCJ0YWciLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImdldERPTUNoaWxkcmVuQnlDbGFzcyIsImNsYXNzTmFtZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjcmVhdGVET01FbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImJpbmQiLCJhcHBlbmRET01FbGVtZW50IiwiZWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlRE9NRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiZXZlbnQiLCJjYWxsYmFjayIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRDU1NDbGFzcyIsImFyZ3VtZW50cyIsInNsaWNlIiwiZm9yRWFjaCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUNTU0NsYXNzIiwicmVtb3ZlIiwid2luZG93Il0sIm1hcHBpbmdzIjoiQUFHQSxJQUFJQSxPQUFTLENBQ1hDLGFBQ0Usd0dBT0FDLGNBQWdCLFNBQThCRixHQUNoRCxJQUFJRyxFQUFhLFNBQ2JDLEVBQWdCLCtCQUNoQkMsRUFBYyw2QkFDZEMsRUFBb0IsbUNBSXBCQyxFQUFvQixnQ0FDcEJDLEVBQWdCLDRCQUNoQkMsRUFBa0Isb0NBQ2xCQyxFQUFvQixpQ0FDcEJDLEVBQWEsNEJBR2JDLEVBQWEsNEJBSWJDLEVBQXFCLGdCQUFrQmIsRUFBT0MsYUFBZSxJQUM3RGEsRUFBbUIsZUFFdkIsU0FBU0MsS0FFVCxTQUFTQyxFQUFlQyxHQUN0QixNQUFPLElBQUlDLE9BQU9ELEdBQUtDLE9BQU8sS0FHaEMsU0FBU0MsRUFBY0MsR0FDckIsT0FBT0osRUFBZUssR0FBR0MsY0FBY0YsR0FBYUcsT0FldEQsU0FBU0MsRUFBaUJKLEdBQ3hCLE9BQU9DLEdBQUdDLGNBQWNGLEdBQWFLLFFBQ2pDVCxFQUFlLFFBQ2ZBLEVBQWUsU0FrQnJCLFNBQVNVLEVBQ1BDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBRUEsSUFBSUMsRUF0Qk4sU0FBMkJDLEdBSXpCLElBSEEsSUFBSUMsRUFDQUMsRUFBT2QsR0FBR2Usb0JBQW9CSCxFQUFXLFFBRXJDQyxHQUNOQSxFQUFTYixHQUFHZSxvQkFBb0JELEVBQUtFLFFBQVMsU0FBU0MsS0FDckQsU0FBc0JDLEdBQ3BCLE9BQU9BLEVBQUdkLFVBS2hC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QUdDLGNBQWNnQyxHQUFNb0Isb0JBQW9CSixFQUFPQyxJQUVwRHJCLEVBQVdSLFVBQVVpQyxZQUFjLFNBQXFCckIsR0FDdERFLE1BQU1DLEtBQUttQixXQUNSQyxNQUFNLEdBQ05DLFFBQVEsU0FBb0JsQixHQUMzQnZDLEdBQUdDLGNBQWNnQyxHQUFNeUIsVUFBVUMsSUFBSXBCLE1BRzNDVixFQUFXUixVQUFVdUMsZUFBaUIsU0FDcEMzQixFQUNBTSxHQUVBdkMsR0FBR0MsY0FBY2dDLEdBQU15QixVQUFVRyxPQUFPdEIsSUFHbkMsSUFBSVYsRUFyREosR0F3RFRpQyxPQUFPWCxpQkFBaUIsT0FBUSxXQUM5QnRFLGNBQWM2QyxnQkFDZDdDLGNBQWN5QyIsImZpbGUiOiJjaGF0X2NvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xyXG4vKiBnbG9iYWwgY29uZmlnRmFjdG9yeSAqL1xyXG5cclxudmFyIGNvbmZpZyA9IHtcclxuICBjaGF0RmlsZVBhdGg6XHJcbiAgICBcImh0dHBzOi8vcmF3Z2l0LmNvbS9CZXNvbWhlYWQvanMtLXRvdWNoc29mdC9iZXNvbWhlYWQtdGFzazA3LWJ1aWxkL3Rhc2stMDcvQmVzb21oZWFkL2J1aWxkL2pzL2NoYXQuanNcIlxyXG59O1xyXG5cclxuLyogZXhwb3J0ZWQgY29uZmlnRmFjdG9yeSAqL1xyXG4vKiBnbG9iYWwgRE0gKi9cclxuLyogZ2xvYmFsIGNvbmZpZyAqL1xyXG5cclxudmFyIGNvbmZpZ0ZhY3RvcnkgPSAoZnVuY3Rpb24gY29uZmlnRmFjdG9yeU1vZHVsZShjb25maWcpIHtcclxuICB2YXIgRVZFTlRfTkFNRSA9IFwiY2hhbmdlXCI7XHJcbiAgdmFyIENIQVRfVElUTEVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtdGl0bGVcIjtcclxuICB2YXIgQ0hBVF9VUkxfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtdXJsXCI7XHJcbiAgdmFyIENIQVRfQ1NTX0NMQVNTX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1jaGF0LWNzcy1jbGFzc1wiO1xyXG4gIHZhciBDSEFUX1BPU0lUSU9OX1JJR0hUX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1jaGF0LXBvc2l0aW9uLXJpZ2h0XCI7XHJcbiAgdmFyIENIQVRfUE9TSVRJT05fTEVGVF9JRCA9IFwiY2hhdC1jb25maWd1cmF0b3ItY2hhdC1wb3NpdGlvbi1sZWZ0XCI7XHJcbiAgdmFyIENIQVRfUE9TSVRJT05fSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLWNoYXQtcG9zaXRpb25cIjtcclxuICB2YXIgQUxMT1dfTUlOSU1JWkVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLW1pbmltaXplXCI7XHJcbiAgdmFyIEFMTE9XX0RSQUdfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLWRyYWdcIjtcclxuICB2YXIgUkVRVUlSRV9OQU1FX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci11aS1yZXF1aXJlLW5hbWVcIjtcclxuICB2YXIgU0hPV19EQVRFX1RJTUVfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVpLXNob3ctZGF0ZVwiO1xyXG4gIHZhciBORVRXT1JLX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1uZXR3b3JrXCI7XHJcbiAgdmFyIE5FVFdPUktfWEhSX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1uZXR3b3JrLXhoclwiO1xyXG4gIHZhciBORVRXT1JLX0ZFVENIX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1uZXR3b3JrLWZldGNoXCI7XHJcbiAgdmFyIFVQREFURVNfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVwZGF0ZXNcIjtcclxuICB2YXIgVVBEQVRFU19SRUZFVENIX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci11cGRhdGVzLXJlZmV0Y2hcIjtcclxuICB2YXIgVVBEQVRFU19MT05HX1BPTExJTkdfSUQgPSBcImNoYXQtY29uZmlndXJhdG9yLXVwZGF0ZXMtbG9uZ3BvbGxcIjtcclxuICB2YXIgQ09ERV9FWEFNUExFX0lEID0gXCJjaGF0LWNvbmZpZ3VyYXRvci1jb2RlLXNvdXJjZVwiO1xyXG4gIHZhciBDT0RFX0VYQU1QTEVfU1RBUlQgPSAnPHNjcmlwdCBzcmM9XCInICsgY29uZmlnLmNoYXRGaWxlUGF0aCArIFwiP1wiO1xyXG4gIHZhciBDT0RFX0VYQU1QTEVfRU5EID0gJ1wiPjwvc2NyaXB0Pic7XHJcblxyXG4gIGZ1bmN0aW9uIENvbmZpZ0ZhY3RvcnkoKSB7fVxyXG5cclxuICBmdW5jdGlvbiB3cmFwV2l0aFF1b3RlcyhzdHIpIHtcclxuICAgIHJldHVybiBcIidcIi5jb25jYXQoc3RyKS5jb25jYXQoXCInXCIpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0SW5wdXRWYWx1ZShjb21wb25lbnRJRCkge1xyXG4gICAgcmV0dXJuIHdyYXBXaXRoUXVvdGVzKERNLmdldERPTUVsZW1lbnQoY29tcG9uZW50SUQpLnZhbHVlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENoYXRQb3NpdGlvbigpIHtcclxuICAgIHZhciBwb3NpdGlvbiA9IFwicG9zaXRpb249XCI7XHJcblxyXG4gICAgaWYgKERNLmdldERPTUVsZW1lbnQoQ0hBVF9QT1NJVElPTl9SSUdIVF9JRCkuc2VsZWN0ZWQpIHtcclxuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5jb25jYXQod3JhcFdpdGhRdW90ZXMoXCJyaWdodFwiKSk7XHJcbiAgICB9IGVsc2UgaWYgKERNLmdldERPTUVsZW1lbnQoQ0hBVF9QT1NJVElPTl9MRUZUX0lEKS5zZWxlY3RlZCkge1xyXG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLmNvbmNhdCh3cmFwV2l0aFF1b3RlcyhcImxlZnRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldENoZWNrQm94VmFsdWUoY29tcG9uZW50SUQpIHtcclxuICAgIHJldHVybiBETS5nZXRET01FbGVtZW50KGNvbXBvbmVudElEKS5jaGVja2VkXHJcbiAgICAgID8gd3JhcFdpdGhRdW90ZXMoXCJ0cnVlXCIpXHJcbiAgICAgIDogd3JhcFdpdGhRdW90ZXMoXCJmYWxzZVwiKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkQnV0dG9uKGNvbnRhaW5lcikge1xyXG4gICAgdmFyIGJ1dHRvbjtcclxuICAgIHZhciBkaXZzID0gRE0uZ2V0RE9NQ2hpbGRyZW5CeVRhZyhjb250YWluZXIsIFwiZGl2XCIpO1xyXG5cclxuICAgIHdoaWxlICghYnV0dG9uKSB7XHJcbiAgICAgIGJ1dHRvbiA9IERNLmdldERPTUNoaWxkcmVuQnlUYWcoZGl2cy5zaGlmdCgpLCBcImlucHV0XCIpLmZpbmQoXHJcbiAgICAgICAgZnVuY3Rpb24gZmluZFNlbGVjdGVkKGVsKSB7XHJcbiAgICAgICAgICByZXR1cm4gZWwuY2hlY2tlZDtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkVmFsdWUoXHJcbiAgICB0YXJnZXQsXHJcbiAgICBmaXJzdE9wdGlvbixcclxuICAgIGZpcnN0VmFsdWUsXHJcbiAgICBzZWNvbmRPcHRpb24sXHJcbiAgICBzZWNvbmRWYWx1ZVxyXG4gICkge1xyXG4gICAgdmFyIGVtaXR0ZXIgPSBnZXRTZWxlY3RlZEJ1dHRvbih0YXJnZXQpO1xyXG4gICAgdmFyIHZhbHVlID0gXCJcIjtcclxuXHJcbiAgICBpZiAoZW1pdHRlci5pZCA9PT0gZmlyc3RPcHRpb24pIHtcclxuICAgICAgdmFsdWUgPSB3cmFwV2l0aFF1b3RlcyhmaXJzdFZhbHVlKTtcclxuICAgIH0gZWxzZSBpZiAoZW1pdHRlci5pZCA9PT0gc2Vjb25kT3B0aW9uKSB7XHJcbiAgICAgIHZhbHVlID0gd3JhcFdpdGhRdW90ZXMoc2Vjb25kVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldE5ldHdvcmtSZXF1ZXN0VHlwZSgpIHtcclxuICAgIHJldHVybiBcInJlcXVlc3RzPVwiLmNvbmNhdChcclxuICAgICAgZ2V0U2VsZWN0ZWRWYWx1ZShcclxuICAgICAgICBETS5nZXRET01FbGVtZW50KE5FVFdPUktfSUQpLFxyXG4gICAgICAgIE5FVFdPUktfWEhSX0lELFxyXG4gICAgICAgIFwieGhyXCIsXHJcbiAgICAgICAgTkVUV09SS19GRVRDSF9JRCxcclxuICAgICAgICBcImZldGNoXCJcclxuICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFVwZGF0ZXNQb2xpdGljcygpIHtcclxuICAgIHJldHVybiBcInN1YnNjcmliZU9uVXBkYXRlcz1cIi5jb25jYXQoXHJcbiAgICAgIGdldFNlbGVjdGVkVmFsdWUoXHJcbiAgICAgICAgRE0uZ2V0RE9NRWxlbWVudChVUERBVEVTX0lEKSxcclxuICAgICAgICBVUERBVEVTX0xPTkdfUE9MTElOR19JRCxcclxuICAgICAgICBcImxvbmdQb2xsaW5nXCIsXHJcbiAgICAgICAgVVBEQVRFU19SRUZFVENIX0lELFxyXG4gICAgICAgIFwicmVmZXRjaFwiXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBDb25maWdGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVDb2RlRXhhbXBsZSA9IGZ1bmN0aW9uIGNyZWF0ZUNvZGVFeGFtcGxlKCkge1xyXG4gICAgRE0uZ2V0RE9NRWxlbWVudChDT0RFX0VYQU1QTEVfSUQpLnZhbHVlID0gW1xyXG4gICAgICBDT0RFX0VYQU1QTEVfU1RBUlQsXHJcbiAgICAgIFwiY2hhdFRpdGxlPVwiLFxyXG4gICAgICBnZXRJbnB1dFZhbHVlKENIQVRfVElUTEVfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgXCJjaGF0VVJMPVwiLFxyXG4gICAgICBnZXRJbnB1dFZhbHVlKENIQVRfVVJMX0lEKSxcclxuICAgICAgXCImXCIsXHJcbiAgICAgIFwiY3NzQ2xhc3M9XCIsXHJcbiAgICAgIGdldElucHV0VmFsdWUoQ0hBVF9DU1NfQ0xBU1NfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgZ2V0Q2hhdFBvc2l0aW9uKCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcImFsbG93TWluaW1pemU9XCIsXHJcbiAgICAgIGdldENoZWNrQm94VmFsdWUoQUxMT1dfTUlOSU1JWkVfSUQpLFxyXG4gICAgICBcIiZcIixcclxuICAgICAgXCJhbGxvd0RyYWc9XCIsXHJcbiAgICAgIGdldENoZWNrQm94VmFsdWUoQUxMT1dfRFJBR19JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcInJlcXVpcmVOYW1lPVwiLFxyXG4gICAgICBnZXRDaGVja0JveFZhbHVlKFJFUVVJUkVfTkFNRV9JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBcInNob3dEYXRlVGltZT1cIixcclxuICAgICAgZ2V0Q2hlY2tCb3hWYWx1ZShTSE9XX0RBVEVfVElNRV9JRCksXHJcbiAgICAgIFwiJlwiLFxyXG4gICAgICBnZXROZXR3b3JrUmVxdWVzdFR5cGUoKSxcclxuICAgICAgXCImXCIsXHJcbiAgICAgIGdldFVwZGF0ZXNQb2xpdGljcygpLFxyXG4gICAgICBDT0RFX0VYQU1QTEVfRU5EXHJcbiAgICBdLmpvaW4oXCJcIik7XHJcbiAgfTtcclxuXHJcbiAgQ29uZmlnRmFjdG9yeS5wcm90b3R5cGUuaW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uIGluaXRMaXN0ZW5lcnMoKSB7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihDSEFUX1RJVExFX0lELCBFVkVOVF9OQU1FLCB0aGlzLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfVVJMX0lELCBFVkVOVF9OQU1FLCB0aGlzLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfQ1NTX0NMQVNTX0lELCBFVkVOVF9OQU1FLCB0aGlzLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICAgIERNLmFkZExpc3RlbmVyKENIQVRfUE9TSVRJT05fSUQsIEVWRU5UX05BTUUsIHRoaXMuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoQUxMT1dfTUlOSU1JWkVfSUQsIEVWRU5UX05BTUUsIHRoaXMuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoQUxMT1dfRFJBR19JRCwgRVZFTlRfTkFNRSwgdGhpcy5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihTSE9XX0RBVEVfVElNRV9JRCwgRVZFTlRfTkFNRSwgdGhpcy5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihSRVFVSVJFX05BTUVfSUQsIEVWRU5UX05BTUUsIHRoaXMuY3JlYXRlQ29kZUV4YW1wbGUpO1xyXG4gICAgRE0uYWRkTGlzdGVuZXIoTkVUV09SS19JRCwgRVZFTlRfTkFNRSwgdGhpcy5jcmVhdGVDb2RlRXhhbXBsZSk7XHJcbiAgICBETS5hZGRMaXN0ZW5lcihVUERBVEVTX0lELCBFVkVOVF9OQU1FLCB0aGlzLmNyZWF0ZUNvZGVFeGFtcGxlKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gbmV3IENvbmZpZ0ZhY3RvcnkoKTtcclxufSkoY29uZmlnKTtcclxuLyogZXhwb3J0ZWQgRE0gKi9cclxuXHJcbnZhciBETSA9IChmdW5jdGlvbiBET01NYW5hZ2VyTW9kdWxlKCkge1xyXG4gIGZ1bmN0aW9uIERPTU1hbmFnZXIoKSB7fVxyXG5cclxuICBET01NYW5hZ2VyLnByb3RvdHlwZS5nZXRET01FbGVtZW50ID0gZnVuY3Rpb24gZ2V0RWxlbWVudChpZHRmKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIGlkdGYgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZHRmKSA6IGlkdGY7XHJcbiAgfTtcclxuICBET01NYW5hZ2VyLnByb3RvdHlwZS5nZXRET01DaGlsZHJlbkJ5VGFnID0gZnVuY3Rpb24gZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoXHJcbiAgICByb290LFxyXG4gICAgdGFnXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmdldERPTUVsZW1lbnQocm9vdCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnKSk7XHJcbiAgfTtcclxuICBET01NYW5hZ2VyLnByb3RvdHlwZS5nZXRET01DaGlsZHJlbkJ5Q2xhc3MgPSBmdW5jdGlvbiBnZXRDaGlsZHJlbkJ5Q2xhc3NOYW1lKFxyXG4gICAgcm9vdCxcclxuICAgIGNsYXNzTmFtZVxyXG4gICkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oRE0uZ2V0RE9NRWxlbWVudChyb290KS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSkpO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlRE9NRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChkb2N1bWVudCk7XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUuYXBwZW5kRE9NRWxlbWVudCA9IGZ1bmN0aW9uIGFwcGVuZChyb290LCBlbGVtZW50KSB7XHJcbiAgICBETS5nZXRET01FbGVtZW50KHJvb3QpLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlRE9NRWxlbWVudCA9IGZ1bmN0aW9uIHJlbW92ZShyb290LCBlbGVtZW50KSB7XHJcbiAgICBETS5nZXRET01FbGVtZW50KHJvb3QpLnJlbW92ZUNoaWxkKERNLmdldERPTUVsZW1lbnQoZWxlbWVudCkpO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKFxyXG4gICAgcm9vdCxcclxuICAgIGV2ZW50LFxyXG4gICAgY2FsbGJhY2tcclxuICApIHtcclxuICAgIERNLmdldERPTUVsZW1lbnQocm9vdCkuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgcm9vdCxcclxuICAgIGV2ZW50LFxyXG4gICAgY2FsbGJhY2tcclxuICApIHtcclxuICAgIERNLmdldERPTUVsZW1lbnQocm9vdCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUuYWRkQ1NTQ2xhc3MgPSBmdW5jdGlvbiBhZGRDU1NDbGFzcyhyb290KSB7XHJcbiAgICBBcnJheS5mcm9tKGFyZ3VtZW50cylcclxuICAgICAgLnNsaWNlKDEpXHJcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIGFkZENsYXNzZXMoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgRE0uZ2V0RE9NRWxlbWVudChyb290KS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcbiAgRE9NTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQ1NTQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDU1NDbGFzcyhcclxuICAgIHJvb3QsXHJcbiAgICBjbGFzc05hbWVcclxuICApIHtcclxuICAgIERNLmdldERPTUVsZW1lbnQocm9vdCkuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBuZXcgRE9NTWFuYWdlcigpO1xyXG59KSgpO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xyXG4gIGNvbmZpZ0ZhY3RvcnkuaW5pdExpc3RlbmVycygpO1xyXG4gIGNvbmZpZ0ZhY3RvcnkuY3JlYXRlQ29kZUV4YW1wbGUoKTtcclxufSk7Il19
